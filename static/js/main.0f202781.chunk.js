(this["webpackJsonptesting-task"]=this["webpackJsonptesting-task"]||[]).push([[0],{106:function(e,t,a){e.exports=a.p+"static/media/logo.146e2926.svg"},110:function(e,t,a){e.exports=a(148)},137:function(e,t,a){},138:function(e,t,a){},141:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(37),o=a.n(s),i=a(10),l=a.n(i),c=a(19),m=a(22),u=a(38),d=a.n(u),p=function(e){e?(d.a.defaults.headers.common.Authorization=e,localStorage.setItem("token",e)):(delete d.a.defaults.headers.common.Authorization,localStorage.removeItem("token"))},h=function(){return v().then((function(e){console.log(e.data.token),p(e.data.token)}))},v=function(){var e=Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://frontend-test-assignment-api.abz.agency/api/v1/token");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){return localStorage.getItem("token")?new Promise((function(e,t){e()})):h()},E=function(e){return d.a.get("https://frontend-test-assignment-api.abz.agency/api/v1/users?page=1&count=".concat(e)).then((function(e){return e.data.users}))},g=function(){var e=Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.a.get("https://frontend-test-assignment-api.abz.agency/api/v1/positions").then((function(e){return e.data.positions})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=(a(94),function(e){var t=e.name,a=e.position,n=e.phone,s=e.email,o=e.photo;return r.a.createElement("div",{className:"user"},r.a.createElement("div",{className:"user__photoContainer"},r.a.createElement("img",{src:o,className:"user__photo",alt:""})),r.a.createElement("div",{className:"user__name"},t),r.a.createElement("div",{className:"user__position"},a),r.a.createElement("div",{className:"user__email"},s),r.a.createElement("div",{className:"user__phone"},n))}),_=a(62),N=a(61),k=a(70),y=(a(137),function(e){var t=e.nameAndId,a=e.selectedPosition,n=(e.selectedPositionId,e.radioHandler);return r.a.createElement("div",{className:"position"},r.a.createElement("label",{className:"container"},r.a.createElement("span",null,t.name),r.a.createElement("input",Object(k.a)({type:"radio",checked:"checked",name:t.name,value:JSON.stringify(t),onClick:function(e){return n(e)}},"checked",a===t.name)),r.a.createElement("span",{className:"checkmark"})))}),w=function(){var e=Object(c.a)(l.a.mark((function e(t){var a,n,r,s,o,i,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,n=t.email,r=t.photo,s=t.phone,o=t.position_id,e.next=3,v().then((function(e){return e.data.token}));case 3:return i=e.sent,(c=new FormData).append("position_id",o),c.append("name",a),c.append("email",n),c.append("phone",s),c.append("photo",r),e.next=12,fetch("https://frontend-test-assignment-api.abz.agency/api/v1/users",{method:"POST",body:c,headers:{Token:i}}).then((function(e){return e.json()})).then((function(e){if(console.log(e),e.success)return e.success})).catch((function(e){return console.log(e)}));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=Object(n.createContext)(),O=function(e){var t=e.reducer,a=e.initialState,s=e.children;return r.a.createElement(S.Provider,{value:Object(n.useReducer)(t,a)},s)},j=function(){return Object(n.useContext)(S)},x=a(60),C=function(e,t){switch(console.log(e),t.type){case"RESET_QUANTITY":return Object(x.a)(Object(x.a)({},e),{},{counter:6});case"INCREASE_QUANTITY":return Object(x.a)(Object(x.a)({},e),{},{counter:e.counter+6});default:return e}},T=(a(95),function(e){var t=e.text,a=e.onClick,n=e.additionalClass;return r.a.createElement("button",{className:"button ".concat(n),onClick:a},t)}),F=a(150),L=(a(138),N.a({email:N.b().email("Invalid email address").required("Required"),name:N.b().required("First name is required").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+$/,{message:"Allowed characters for is a-z, A-Z, \u0430-\u044f, \u0410-\u042f."}),phone:N.b().required("Phone number is required").matches(/^\+380\d{3}\d{2}\d{2}\d{2}$/,{message:"Enter phone in format +380XXXXXXXXX"})})),X=function(e){var t=e.positions,a=e.setUsers,s=Object(n.useState)(""),o=Object(m.a)(s,2),i=o[0],u=o[1],d=Object(n.useState)(""),p=Object(m.a)(d,2),h=p[0],v=p[1],f=Object(n.useState)(null),E=Object(m.a)(f,2),g=E[0],b=E[1],N=Object(n.useState)(!1),k=Object(m.a)(N,2),S=k[0],O=k[1],x=j(),C=Object(m.a)(x,2),X=(C[0],C[1]);Object(n.useEffect)((function(){t.length&&(u(t[0].name),v(t[0].id))}),[t]);var I=function(e){var t=JSON.parse(e.target.value);u(t.name),v(t.id)},A=function(e){b(e.target.files[0])};console.log(g);var P=function(){return O(!1)},q=function(){return O(!0)};return r.a.createElement("div",{id:"registration",className:"registerForm"},r.a.createElement("h2",{className:"registerForm__title"},"Register to get a work"),r.a.createElement("p",{className:"registerForm__attention"},"Attention! After successful registration and alert, update the list of users in the block from the top"),r.a.createElement(F.a,{show:S,onHide:P},r.a.createElement(F.a.Header,{closeButton:!0},r.a.createElement(F.a.Title,null,"Congratulatiions")),r.a.createElement(F.a.Body,null,"You have successfuly passed the registration"),r.a.createElement(F.a.Footer,null,r.a.createElement(T,{text:"Great",onClick:P}))),r.a.createElement(_.b,{handleShow:q,setUsers:a,positions:t,photo:!0,setSelectedId:!0,initialValues:{email:"",name:"",phone:"",photo:null},validationSchema:L,onSubmit:function(){var e=Object(c.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=3;break}return alert("select the file!"),e.abrupt("return");case 3:return t.position_id=h,t.photo=g,console.log(t),e.next=8,w(t);case 8:if(!e.sent){e.next=11;break}X({type:"RESET_QUANTITY"}),q();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},(function(e){var a=e.values,n=e.handleChange,s=e.handleBlur,o=e.handleSubmit,l=e.errors,c=e.touched,m=e.onSubmit;return r.a.createElement("div",{className:"w-100"},r.a.createElement("form",{onSubmit:o},r.a.createElement("div",{className:"registerForm__inputsContainer"},r.a.createElement("div",{className:"registerForm__inputName"},r.a.createElement("span",null,"Name")),r.a.createElement("input",{className:"registerForm__input",placeholder:"name",type:"text",name:"name",onChange:n,onBlur:s,value:a.name,error:l.name,touched:c.name,target:"form",label:"First Name",required:!0}),r.a.createElement("div",{className:"error-container"},r.a.createElement(_.a,{name:"name"})),r.a.createElement("div",{className:"registerForm__inputName"},r.a.createElement("span",null,"Email")),r.a.createElement("input",{className:"registerForm__input",type:"text",name:"email",onChange:n,onBlur:s,value:a.email,error:l.email,touched:c.email,placeholder:"example@mail.com",target:"form",label:"Email",required:!0}),r.a.createElement("div",{className:"error-container"},r.a.createElement(_.a,{name:"email"})),r.a.createElement("div",{className:"registerForm__inputName"},r.a.createElement("span",null,"Phone number")),r.a.createElement("input",{className:"registerForm__input",type:"text",name:"phone",onChange:n,onBlur:s,value:a.telephone,error:l.telephone,touched:c.telephone,placeholder:"+380XXXXXXXXXXX",target:"form",label:"Phone number",required:!0}),r.a.createElement("span",{className:"registerForm__textUnderPhone"},"Enter phone number in open format"),r.a.createElement("div",{className:"error-container"},r.a.createElement(_.a,{name:"phone"}))),r.a.createElement("div",null),r.a.createElement("div",{className:"registerForm__positionsContainer"},r.a.createElement("h6",{className:"registerForm__positionsTitle"},"Select your position"),r.a.createElement("form",{className:"registerForm__positions"},t.map((function(e){var t=e.id,a=e.name;return r.a.createElement(y,{key:t,nameAndId:{name:a,id:t},selectedPosition:i,selectedPositionId:h,radioHandler:I})})),r.a.createElement("h6",{className:"registerForm__uploadTitle"},"Photo"),r.a.createElement("label",{className:"registerForm__upload",for:"upload"},r.a.createElement("div",null," ","Upload your photo ",r.a.createElement("span",{className:"browse"},"Browse")," ")),r.a.createElement("span",null,null===g||void 0===g?void 0:g.name),r.a.createElement("input",{type:"file",onChange:A,id:"upload",className:"d-none"})),r.a.createElement(T,{text:"Sign up now",type:"submit",onClick:m,additionalClass:"button--regPos"}))))})))},I=function(){var e=j(),t=Object(m.a)(e,2),a=t[0].counter,s=t[1];console.log(a);var o=Object(n.useState)([]),i=Object(m.a)(o,2),u=i[0],d=i[1],p=Object(n.useState)([]),h=Object(m.a)(p,2),v=h[0],_=h[1],N=Object(n.useState)(!0),k=Object(m.a)(N,2),y=k[0],w=k[1];Object(n.useEffect)((function(){function e(){return(e=Object(c.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:return e.next=4,E(a);case 4:return(t=e.sent).length<a&&w(!1),screen.width<576&&(t=t.slice(0,a-a/2)),console.log(t),t.sort((function(e,t){return t.registration_timestamp-e.registration_timestamp})),d(t),console.log("sorted users",t),e.next=13,g();case 13:n=e.sent,console.log(n),n[0].defaultChecked=!0,_(n);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a]);var S=function(){var e=Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:"INCREASE_QUANTITY"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",{className:"users"},r.a.createElement("h1",{className:"users__title"},"Our cheerful users"),r.a.createElement("h6",{className:"users__attention"},"Attention! Sorting users by registration date"),r.a.createElement("div",{className:"users__container"},u.map((function(e){var t=e.id,a=e.name,n=e.position,s=e.phone,o=e.email,i=e.photo;return r.a.createElement(b,{photo:i,key:t,name:a,phone:s,position:n,email:o})}))),y?r.a.createElement(T,{text:"Show more",additionalClass:"button--margin",onClick:S}):r.a.createElement("div",null)),r.a.createElement(X,{positions:v,setUsers:!0}))},A=a(152),P=a(151),q=a(106),B=a.n(q),U=(a(141),function(){return r.a.createElement(A.a,{expand:"lg",sticky:"top",className:"navbar justify-content-between pt-2 pb-2"},r.a.createElement(A.a.Brand,{href:"#home",className:"navbar__brand "},r.a.createElement("img",{src:B.a,alt:""})),r.a.createElement(A.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(A.a.Collapse,{id:"basic-navbar-nav",className:"flex-grow-0"},r.a.createElement(P.a,{className:"mr-auto"},r.a.createElement("div",{className:"navbar__line d-lg-none"}),r.a.createElement(P.a.Link,{href:"#registration",className:"navbar__navlink"},"About me"),r.a.createElement(P.a.Link,{href:"#registration",className:"navbar__navlink"},"Relationships"),r.a.createElement(P.a.Link,{href:"#registration",className:"navbar__navlink d-none d-lg-flex"},"Requirements"),r.a.createElement(P.a.Link,{href:"#registration",className:"navbar__navlink"},"Users"),r.a.createElement(P.a.Link,{href:"#registration",className:"navbar__navlink"},"Sign Up"),r.a.createElement(P.a.Link,{href:"#registration",className:"navbar__navlink d-lg-none"},"Terms and Conditions"),r.a.createElement("div",{className:"navbar__line d-lg-none line-pos"}),r.a.createElement(P.a.Link,{href:"#registration",className:"navbar__navlink d-lg-none"},"How it works"),r.a.createElement(P.a.Link,{href:"#registration",className:"navbar__navlink d-lg-none"},"Partnership"),r.a.createElement(P.a.Link,{href:"#registration",className:"navbar__navlink  d-lg-none"},"Help"),r.a.createElement(P.a.Link,{href:"#registration",className:"navbar__navlink d-lg-none"},"Live testimonial"),r.a.createElement(P.a.Link,{href:"#registration",className:"navbar__navlink d-lg-none"},"Contact us"),r.a.createElement("div",{className:"navbar__line d-lg-none line-pos"}),r.a.createElement(P.a.Link,{href:"#registration",className:"navbar__navlink d-lg-none"},"Articles"),r.a.createElement(P.a.Link,{href:"#registration",className:"navbar__navlink d-lg-none"},"Our news"),r.a.createElement(P.a.Link,{href:"#registration",className:"navbar__navlink d-md-none"},"Testimonials"),r.a.createElement(P.a.Link,{href:"#registration",className:"navbar__navlink d-lg-none"},"Licenses"),r.a.createElement(P.a.Link,{href:"#registration",className:"navbar__navlink d-lg-none"},"Privacy policy"))))}),z=(a(144),function(){return r.a.createElement("div",{className:"banner"},r.a.createElement("div",{className:"banner__infoContainer"},r.a.createElement("div",{className:"banner__title"},r.a.createElement("div",null,r.a.createElement("span",null,"Test assignment")),r.a.createElement("div",null,r.a.createElement("span",null,"for Frontend")),r.a.createElement("div",null,r.a.createElement("span",null,"Developer position"))),r.a.createElement("div",{className:"banner__contentMobile text-white d-sm-none"},r.a.createElement("div",null,r.a.createElement("span",null,"We kindly remind you that your test ")),r.a.createElement("div",null,r.a.createElement("span",null," assignment should be submitted as a link to ")),r.a.createElement("div",null,r.a.createElement("span",null,"github/bitbucket repository."))),r.a.createElement("div",{className:"bannerContent d-none d-sm-block text-white"},"We kindly remind you that your test assignment should be submitted as a link to github/bitbucket repository. Please be patient, we consider and respond to every application that meets minimum requirements. We look forward to your submission. Good luck! The photo has to scale in the banner area on the different screens"),r.a.createElement("div",{className:"button--pos"},r.a.createElement(T,{text:"Sing up now"}))))}),R=(a(145),function(e){var t=e.text;return r.a.createElement("button",{className:"flatButton"},t)}),H=function(){return r.a.createElement("div",{className:"section"},r.a.createElement("h1",{className:"section__heading"},"Let's get acquainted"),r.a.createElement("div",{className:"sectionContainer"},r.a.createElement("div",{className:"section__imgContainer"}),r.a.createElement("div",{className:"section__contentContainer"},r.a.createElement("h4",{className:"section__contentTitle"},"I am cool frontend developer"),r.a.createElement("p",{className:"section__content1"},"We will evaluate how clean your approach to writing CSS and Javascript code is. You can use any CSS and Javascript 3rd party libraries without any restriction."),r.a.createElement("p",{className:"section__content2"},"If 3rd party css/javascript libraries are added to the project via bower/npm/yarn you will get bonus points. If you use any task runner (gulp/webpack) you will get bonus points as well. Slice service directory page P\u200bSD mockup\u200b into HTML5/CSS3."))),r.a.createElement("div",{className:"section__button--pos"},r.a.createElement(R,{text:"Sing up now"})))},J=(a(146),a(147),function(){return r.a.createElement("div",{className:"footer"},"\xa9 abz.agency specially for the test task")});var W=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(U,null),r.a.createElement(z,null),r.a.createElement(H,null),r.a.createElement(I,null),r.a.createElement(J,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(O,{initialState:{counter:6},reducer:C},r.a.createElement(r.a.StrictMode,null,r.a.createElement(W,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},94:function(e,t,a){},95:function(e,t,a){}},[[110,1,2]]]);
//# sourceMappingURL=main.0f202781.chunk.js.map